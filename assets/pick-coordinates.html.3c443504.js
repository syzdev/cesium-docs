import{_ as n,o as s,c as a,e as t}from"./app.f2d92805.js";const p={},e=t(`<h2 id="_1-\u83B7\u53D6\u692D\u7403\u4F53\u8868\u9762\u7684\u7ECF\u7EAC\u5EA6" tabindex="-1"><a class="header-anchor" href="#_1-\u83B7\u53D6\u692D\u7403\u4F53\u8868\u9762\u7684\u7ECF\u7EAC\u5EA6" aria-hidden="true">#</a> 1 \u83B7\u53D6\u692D\u7403\u4F53\u8868\u9762\u7684\u7ECF\u7EAC\u5EA6</h2><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> handler <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>ScreenSpaceEventHandler</span><span class="token punctuation">(</span>viewer<span class="token punctuation">.</span>scene<span class="token punctuation">.</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>
handler<span class="token punctuation">.</span><span class="token function">setInputAction</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u5C4F\u5E55\u5750\u6807\u8F6C\u4E16\u754C\u5750\u6807\u2014\u2014\u5173\u952E\u70B9</span>
    <span class="token keyword">var</span> ellipsoid <span class="token operator">=</span> viewer<span class="token punctuation">.</span>scene<span class="token punctuation">.</span>globe<span class="token punctuation">.</span>ellipsoid<span class="token punctuation">;</span>
    <span class="token keyword">var</span> cartesian <span class="token operator">=</span> viewer<span class="token punctuation">.</span>camera<span class="token punctuation">.</span><span class="token function">pickEllipsoid</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>position<span class="token punctuation">,</span> ellipsoid<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// \u5C06\u7B1B\u5361\u5C14\u5750\u6807\u8F6C\u6362\u4E3A\u5730\u7406\u5750\u6807</span>
    <span class="token keyword">var</span> cartographic <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>Cartographic<span class="token punctuation">.</span><span class="token function">fromCartesian</span><span class="token punctuation">(</span>cartesian<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// \u5C06\u5F27\u5EA6\u8F6C\u4E3A\u5EA6\u7684\u5341\u8FDB\u5236\u5EA6\u8868\u793A</span>
    <span class="token keyword">var</span> lon <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>Math<span class="token punctuation">.</span><span class="token function">toDegrees</span><span class="token punctuation">(</span>cartographic<span class="token punctuation">.</span>longitude<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> lat <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>Math<span class="token punctuation">.</span><span class="token function">toDegrees</span><span class="token punctuation">(</span>cartographic<span class="token punctuation">.</span>latitude<span class="token punctuation">)</span><span class="token punctuation">;</span>
  	<span class="token comment">// \u8F93\u51FA\u7ECF\u7EAC\u5EA6</span>
  	<span class="token function">alert</span><span class="token punctuation">(</span>lon <span class="token operator">+</span> <span class="token string">&#39; / &#39;</span> <span class="token operator">+</span>lat<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> Cesium<span class="token punctuation">.</span>ScreenSpaceEventType<span class="token punctuation">.</span><span class="token constant">LEFT_CLICK</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2-\u83B7\u53D6\u5730\u5F62\u8868\u9762\u7ECF\u7EAC\u5EA6\u548C\u9AD8\u5EA6" tabindex="-1"><a class="header-anchor" href="#_2-\u83B7\u53D6\u5730\u5F62\u8868\u9762\u7ECF\u7EAC\u5EA6\u548C\u9AD8\u5EA6" aria-hidden="true">#</a> 2 \u83B7\u53D6\u5730\u5F62\u8868\u9762\u7ECF\u7EAC\u5EA6\u548C\u9AD8\u5EA6</h2><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> handler <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>ScreenSpaceEventHandler</span><span class="token punctuation">(</span>viewer<span class="token punctuation">.</span>scene<span class="token punctuation">.</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>
handler<span class="token punctuation">.</span><span class="token function">setInputAction</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u5C4F\u5E55\u5750\u6807\u8F6C\u4E16\u754C\u5750\u6807\u2014\u2014\u5173\u952E\u70B9</span>
    <span class="token keyword">var</span> ray <span class="token operator">=</span> viewer<span class="token punctuation">.</span>camera<span class="token punctuation">.</span><span class="token function">getPickRay</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>position<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> cartesian <span class="token operator">=</span> viewer<span class="token punctuation">.</span>scene<span class="token punctuation">.</span>globe<span class="token punctuation">.</span><span class="token function">pick</span><span class="token punctuation">(</span>ray<span class="token punctuation">,</span> viewer<span class="token punctuation">.</span>scene<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// \u5C06\u7B1B\u5361\u5C14\u5750\u6807\u8F6C\u6362\u4E3A\u5730\u7406\u5750\u6807</span>
    <span class="token keyword">var</span> cartographic <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>Cartographic<span class="token punctuation">.</span><span class="token function">fromCartesian</span><span class="token punctuation">(</span>cartesian<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// \u5C06\u5F27\u5EA6\u8F6C\u4E3A\u5EA6\u7684\u5341\u8FDB\u5236\u5EA6\u8868\u793A</span>
    <span class="token keyword">var</span> lon <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>Math<span class="token punctuation">.</span><span class="token function">toDegrees</span><span class="token punctuation">(</span>cartographic<span class="token punctuation">.</span>longitude<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> lat <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>Math<span class="token punctuation">.</span><span class="token function">toDegrees</span><span class="token punctuation">(</span>cartographic<span class="token punctuation">.</span>latitude<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// \u83B7\u53D6\u6D77\u62D4\u9AD8\u5EA6</span>
    <span class="token keyword">var</span> height1 <span class="token operator">=</span> viewer<span class="token punctuation">.</span>scene<span class="token punctuation">.</span>globe<span class="token punctuation">.</span><span class="token function">getHeight</span><span class="token punctuation">(</span>cartographic<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> height2 <span class="token operator">=</span> cartographic<span class="token punctuation">.</span>height<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> Cesium<span class="token punctuation">.</span>ScreenSpaceEventType<span class="token punctuation">.</span><span class="token constant">LEFT_CLICK</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_3-\u5B9E\u65F6\u83B7\u53D6\u9F20\u6807\u7ECF\u7EAC\u5EA6" tabindex="-1"><a class="header-anchor" href="#_3-\u5B9E\u65F6\u83B7\u53D6\u9F20\u6807\u7ECF\u7EAC\u5EA6" aria-hidden="true">#</a> 3 \u5B9E\u65F6\u83B7\u53D6\u9F20\u6807\u7ECF\u7EAC\u5EA6</h2><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> selft  <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> scene <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>viewer<span class="token punctuation">.</span>scene<span class="token punctuation">;</span>
<span class="token keyword">var</span> canvas <span class="token operator">=</span> scene<span class="token punctuation">.</span>canvas<span class="token punctuation">;</span>
<span class="token keyword">var</span> handler <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>ScreenSpaceEventHandler</span><span class="token punctuation">(</span>scene<span class="token punctuation">.</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>
handler<span class="token punctuation">.</span><span class="token function">setInputAction</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">movement</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> cartesian <span class="token operator">=</span> scene<span class="token punctuation">.</span>camera<span class="token punctuation">.</span><span class="token function">pickEllipsoid</span><span class="token punctuation">(</span>movement<span class="token punctuation">.</span>endPosition<span class="token punctuation">,</span> ellipsoid<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> ellipsoid <span class="token operator">=</span> scene<span class="token punctuation">.</span>globe<span class="token punctuation">.</span>ellipsoid<span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>cartesian<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//\u80FD\u83B7\u53D6\uFF0C\u663E\u793A\u5750\u6807</span>
    <span class="token keyword">var</span> cartographic <span class="token operator">=</span> ellipsoid<span class="token punctuation">.</span><span class="token function">cartesianToCartographic</span><span class="token punctuation">(</span>cartesian<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> coords <span class="token operator">=</span> <span class="token string">&#39;\u7ECF\u5EA6&#39;</span> <span class="token operator">+</span> Cesium<span class="token punctuation">.</span>Math<span class="token punctuation">.</span><span class="token function">toDegrees</span><span class="token punctuation">(</span>cartographic<span class="token punctuation">.</span>longitude<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&#39;, &#39;</span> <span class="token operator">+</span> <span class="token string">&#39;\u7EAC\u5EA6&#39;</span> <span class="token operator">+</span> Cesium<span class="token punctuation">.</span>Math<span class="token punctuation">.</span><span class="token function">toDegrees</span><span class="token punctuation">(</span>
      cartographic<span class="token punctuation">.</span>latitude<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&#39;\u9AD8\u5EA6 &#39;</span> <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span>selft<span class="token punctuation">.</span>viewer<span class="token punctuation">.</span>camera<span class="token punctuation">.</span>positionCartographic<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>coords<span class="token punctuation">)</span> <span class="token punctuation">;</span>

  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span> <span class="token comment">//\u4E0D\u80FD\u83B7\u53D6\u4E0D\u663E\u793A</span>

  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> Cesium<span class="token punctuation">.</span>ScreenSpaceEventType<span class="token punctuation">.</span><span class="token constant">MOUSE_MOVE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,6),o=[e];function c(i,u){return s(),a("div",null,o)}const k=n(p,[["render",c],["__file","pick-coordinates.html.vue"]]);export{k as default};
